@use "sass:color";
@use "../mixins/mixins-bourbon";
@use "../base/variables";
@use "../mixins/button";
@use "../mixins/mixins-config";
@use "../mixins/triangle-point";
@use "_menu-dropdown.scss";

/**
 * Licensed to The Apereo Foundation under one or more contributor license
 * agreements. See the NOTICE file distributed with this work for additional
 * information regarding copyright ownership.
 *
 *
 * The Apereo Foundation licenses this file to you under the Educational
 * Community License, Version 2.0 (the "License"); you may not use this file
 * except in compliance with the License. You may obtain a copy of the License
 * at:
 *
 *   http://opensource.org/licenses/ecl2.txt
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS, WITHOUT
 * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.  See the
 * License for the specific language governing permissions and limitations under
 * the License.
 *
 */


// Main Header
// ----------------------------------------

.primary-header {
    $height: 50px;
    width: 100%;
    height: $height;
    box-shadow: 0 1px 3px 1px rgba(variables.$black, 0.3);
    position: relative;
    border-bottom: 1px solid #1d3041;
    background: linear-gradient(to bottom, #388ed6, #2075b1);

    .header-branding {
        float: left;

        a.logo {
            display: block;
            padding: 14px 20px 13px;

            img {
                width: variables.$logo-width;
                height: variables.$logo-height;
            }
        }
    }
}


// Navigation Dropdown Container
// ----------------------------------------

.header-nav {
    position: absolute;
    right: variables.$side-margin;
    top: 5px;

    display: flex;
    align-items: center;

    // Nav items
    .nav-dd {
        display: flex;
        align-items: center;
        justify-content: center;
        width: 37px;
        height: 39px;
        color: #fff;
        cursor: pointer;

        // For dropdowns
        position: relative;
        font-size: 12px;

        &.active .dropdown-ul {
            opacity: 1;
            visibility: visible;
        }

        .nav-dd-element {
            display: flex;
            align-items: center;
            justify-content: center;
            width: 28px;
            height: 39px;

            .header-icon {
                font-size: 20px;
                color: variables.$white;
            }
        }
    }

    .dropdown-ul {
        position: absolute;
        z-index: variables.$max-z + 10;
        opacity: 1;
        visibility: visible;
        @extend %menu-dropdown-base;

        a {
            font-weight: 600;
        }
    }
}


.nav-dd-container {
    .nav-dd .dropdown-ul {
        width: 150px;
        top: 40px;
        right: 7px;
    }
    .user-dd {
        margin-left: 0;
        .dropdown-ul {
            right: -7px;
        }
    }

    // Menu Icon Settings
    $icon-color: variables.$medium-prim-color;
    $icon-font-size: 15px;
    $icon-display-value: inline-block;
    $icon-pesudo-position: before;

    button {
        background-color: transparent;
        border: none;
        border-radius: 0;
        cursor: pointer;
    }

    // Language Dropdown
    // ----------------------------------------

    .lang-dd .dropdown-ul {
        .selected-icon {
            color: variables.$primary-color-green;
            font-size: 15px;
            margin: 0 7px 0 0;
            vertical-align: middle;
        }

        button:not(.selected) {
            padding-left: 37px;
        }
    }

    // RestService Dropdown
    // ----------------------------------------
    .info-dd{
        .dropdown-ul{
            width: auto;
            right: 8px;
        }
        #error-count{
            min-width: 10px;
            padding: 4px 7px;
            font-size: 10px;
            font-weight: 700;
            color: #fff;
            text-align: center;
            white-space: nowrap;
            border-radius: 100%;
            background-color: red;
            position: absolute;
            top: 3px;
            right: 3px;
        }
    }
}

// Dropdown Icon
// ----------------------------------------

.dropdown-icon {
    color: "inherit";
    font-size: 12px;
    margin: 0 0 0 5px;
    vertical-align: middle;
}


// Action Navigation Bar
// ----------------------------------------

.action-nav-bar {
    $height: 80px;
    width: 100%;
    min-height: $height;
    display: flex;
    flex-direction: row;
    align-items: flex-end;
    background: variables.$d-blue;

    .btn-group {
         margin-right: variables.$side-margin;
         align-self: center;

        .btn-group-icon {
            margin-right: 10px;
        }

        // btn specific styles
        .add {
            @include button.btn(green-dark-bg);
        }

        .secondary {
             @include button.btn(blue-dark-bg);
             margin-right: 20px;

             &:first-child {
                margin-right: 0;
             }
        }
    }

    // Menu top
    .menu-top {
        width: 80px;
        height: 42px;
        background: #243e55;
        border-top-left-radius: 4px;
        border-top-right-radius: 4px;
        border: variables.$thin-border-stroke color.adjust(#1e364b, $lightness: -3%);
        border-bottom: none;
        margin: 0 variables.$side-margin;
        position: relative;

        > button {
            width: 100%;
            height: 100%;
            font-size: 22px;
            color: #9badbb;
            display: flex;
            align-items: center;
            justify-content: center;

            &:hover {
                color: #b9c6d0;
            }
        }
    }

    // Subpage Navigation
    nav {
        flex-grow: 1;

        a {
            display: inline-block;
            color: variables.$subpage-navigation-link-color;
            text-align: center;
            position: relative;
            padding: 0 20px;
            margin-bottom: 16px;

            &:hover {
                color: variables.$subpage-navigation-link-hover-color;
            }

            &.active {
                font-weight: 600;
                color: variables.$off-white;

                @include triangle-point.triangle-point(bottom, 7px, 7px, 50%, variables.$off-white, 0, transparent, 9px);
                &:before,
                &:after {
                    margin-right: -7px;
                }
            }
        }
    }
}
